@page
@model LoginModel

@{
    ViewData["Title"] = "Log in";
}


<div class="flex justify-center items-center h-full bg-white">
    <div class="w-full max-w-lg bg-white p-6 rounded-lg shadow-md border border-gray-100">

        <h1 class="text-3xl font-bold text-center text-gray-900">@ViewData["Title"]</h1>

        <form id="account" method="post" class="mt-6 space-y-4">
            <div asp-validation-summary="ModelOnly" class="text-red-600 text-sm" role="alert"></div>

            <div>
                <label asp-for="Input.Email" class="block text-sm font-medium text-gray-700">Email</label>
                <input asp-for="Input.Email" class="w-full mt-1 p-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 outline-none" autocomplete="username" aria-required="true" placeholder="name@example.com" />
                <span asp-validation-for="Input.Email" class="text-red-500 text-sm"></span>
            </div>

            <div>
                <label asp-for="Input.Password" class="block text-sm font-medium text-gray-700">Password</label>
                <input asp-for="Input.Password" class="w-full mt-1 p-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 outline-none" autocomplete="current-password" aria-required="true" placeholder="password" />
                <span asp-validation-for="Input.Password" class="text-red-500 text-sm"></span>
            </div>

            <div class="flex items-center">
                <input asp-for="Input.RememberMe" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                <label asp-for="Input.RememberMe" class="ml-2 text-sm text-gray-600">Remember Me</label>
            </div>

            <button id="login-submit" type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg shadow-md transition">
                Log in
            </button>

            <div class="flex justify-between">
                <div class="text-center text-sm mt-1">
                    <a id="forgot-password" asp-page="./ForgotPassword" class="text-blue-600">Forgot your password?</a>
                </div>

                <div class="text-center text-sm mt-1">
                    <a asp-page="./Register" asp-route-returnUrl="@Model.ReturnUrl" class="text-blue-600">Register</a>
                </div>
            </div>

        </form>

        <div class="relative mt-6 text-center">
            <div class="absolute inset-x-0 top-3 border-t border-gray-300"></div>
            <span class="relative bg-white px-2 text-sm text-gray-500">OR</span>
        </div>

        @if ((Model.ExternalLogins?.Count ?? 0) > 0)
        {
            <form id="external-account" asp-page="./ExternalLogin" asp-route-returnUrl="@Model.ReturnUrl" method="post" class="mt-4">
                <div class="flex gap-4">
                    @foreach (var provider in Model.ExternalLogins!)
                    {
                        <button type="submit" name="provider" value="@provider.Name"
                                class="flex-1 flex items-center justify-center gap-2 py-3 rounded-lg shadow-md font-medium transition
                                @(provider.Name == "Google" ? "bg-rose-600 hover:bg-rose-700 text-white" : "bg-blue-600 hover:bg-blue-700 text-white")">

                            @if (provider.Name == "Google")
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" class="text-white" fill="white" x="0px" y="0px" width="20" height="20" viewBox="0 0 30 30">
                                    <path d="M 15.003906 3 C 8.3749062 3 3 8.373 3 15 C 3 21.627 8.3749062 27 15.003906 27 C 25.013906 27 27.269078 17.707 26.330078 13 L 25 13 L 22.732422 13 L 15 13 L 15 17 L 22.738281 17 C 21.848702 20.448251 18.725955 23 15 23 C 10.582 23 7 19.418 7 15 C 7 10.582 10.582 7 15 7 C 17.009 7 18.839141 7.74575 20.244141 8.96875 L 23.085938 6.1289062 C 20.951937 4.1849063 18.116906 3 15.003906 3 z"></path>
                                </svg>
                            }
                            else
                            {
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M22 12c0-5.5-4.5-10-10-10S2 6.5 2 12c0 4.6 3.2 8.4 7.5 9.6v-6.7H7.1v-2.9h2.4V9.6c0-2.4 1.4-3.7 3.5-3.7.7 0 1.5.1 2.2.2v2.4h-1.5c-1.2 0-1.6.7-1.6 1.5v1.8h2.9l-.5 2.9h-2.4v6.7C18.8 20.4 22 16.6 22 12z" />
                                </svg>
                            }

                            Login with @provider.DisplayName
                        </button>
                    }
                </div>
            </form>

        }
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
    }
</style>