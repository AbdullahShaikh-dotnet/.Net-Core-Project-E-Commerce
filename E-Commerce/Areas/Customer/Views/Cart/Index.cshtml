@* @model ShoppingCartVM

<div class="container">
	<div class="row pt-4">
		<div class="col-md-6">
			<h2 class="text-primary">Shopping Cart</h2>
		</div>
	</div>
</div>

<form method="post">
	<div class="row">
		<div class="col-12">
			<div class="border rounded-2 shadow-sm p-3 mt-2">
				<div class="row mb-3 pb-3">
					<div class="col-12 col-md-3 mb-2 mt-4">
						<a asp-action="Index" asp-controller="Home" class="btn btn-secondary btn-sm border w-100">
							<i class="fs-6 p-1 bi bi-arrow-return-left"></i>
							Continue Shopping
						</a>
					</div>
				</div>

				<div class="row">
					@foreach (var cart in Model.shoppingCartsList)
					{
						<div class="row pb-3 px-2 px-md-4">
							<!-- Product Image -->
							<div class="col-12 col-lg-2 text-center py-2 d-none d-lg-block col-lg-1">
								<a class="text-decoration-none" asp-area="Customer" asp-controller="Home"
								   asp-action="Details" asp-route-ProductID="@cart.ProductID" target="_blank">
									<img src="@cart.product.ImageURL" class="rounded ratio ratio-21x9" width="100%" alt="Product Image" />
								</a>
							</div>

							<!-- Product Details -->
							<div class="col-12 col-lg-6 pt-3">
								<h5 class="text-uppercase text-secondary">
									<a class="text-decoration-none" asp-area="Customer" asp-controller="Home"
									   asp-action="Details" asp-route-ProductID="@cart.ProductID" target="_blank">
										<strong>@cart.product.Title</strong>
									</a>
								</h5>
								<p class="d-none d-md-block"><small>@Html.Raw(cart.product.Description)</small></p>
							</div>

							<!-- Product Actions -->
							<div class="col-12 col-lg-4 text-center row d-flex align-items-center">
								<div class="col-6 col-md-4 text-md-right pt-2">
									<p class="fw-semibold fs-6">
										@cart.product.Price.ToString("C")
										<span class="text-muted">&nbsp;x&nbsp;</span>@cart.Count
									</p>
								</div>
								<div class="col-6 col-md-5 pt-1">
									<div class="btn-group w-100" role="group">
										<a asp-action="CartPlus" asp-route-CartID="@cart.ID" type="button"
										   class="btn border-1 btn-outline-primary btn-sm py-2 mx-1">
											<i class="bi bi-plus-lg fs-6"></i>
										</a>
										<a asp-action="CartMinus" asp-route-CartID="@cart.ID" type="button"
										   class="btn border-1 btn-outline-primary btn-sm py-2">
											<i class="bi bi-dash-lg fs-6"></i>
										</a>
									</div>
								</div>
								<div class="col-12 col-md-3 pt-1">
									<a asp-action="CartRemove" asp-route-CartID="@cart.ID" type="button" class="btn btn-danger btn-sm w-100">
										<i class="bi bi-trash-fill fs-5"></i>
									</a>
								</div>
							</div>
						</div>
						<hr />
					}
				</div>

				@if (Model.shoppingCartsList != null && Model.shoppingCartsList.Count() >= 1)
				{
					<!-- Cart Total -->
					<div class="bg-white border-0 mt-4">
						<div class="row justify-content-center">
							<div class="col-md-6">
								<ul class="list-group mb-4">
									<li class="list-group-item d-flex justify-content-between align-items-center border-0">
										<h5 class="text-dark fw-semibold text-uppercase">Total (INR)</h5>
										<h4 class="text-dark fw-bolder">@Model.orderHeader.OrderTotal.ToString("C")</h4>
									</li>
								</ul>
							</div>
						</div>
						<div class="row justify-content-end">
							<div class="col-md-2">
								<a asp-action="Summary" class="btn btn-primary border-0 bg-gradient w-100 py-2 rounded-2 shadow-sm">
									Summary
								</a>
							</div>
						</div>
					</div>
				}
				else
				{
					<h1 class="d-flex justify-content-center text-danger">
						<i class="bi bi-cart-x px-2"></i>
						Cart is Empty
					</h1>
				}
			</div>
		</div>
	</div>
</form>
 *@



@model ShoppingCartVM

<div class="container mx-auto px-4 py-6">
	<div class="flex justify-between items-center py-4">
		<h2 class="text-3xl font-semibold text-gray-700">Shopping Cart</h2>

		<div class="mb-4 text-start">
			<a asp-action="Index" asp-controller="Home" class="hidden lg:block hover:drop-shadow-sm transition ease-in-out duration-300 btn w-full sm:w-auto bg-white text-gray-700 rounded-md py-2 px-4 flex items-start justify-center text-sm">
				<i class="bi bi-arrow-return-left text-sm mr-2"></i> Continue Shopping
			</a>
		</div>
	</div>

	<form method="post">
		<div class="bg-white rounded-lg shadow-md p-6 mt-6">
			<div class="mb-6 pb-6">
				<div class="space-y-6">
					@foreach (var cart in Model.shoppingCartsList)
					{
						<div class="flex flex-col md:flex-row items-center md:items-center py-4 px-2 md:px-4 border-b">
							<!-- Product Image -->
							<a class="text-decoration-none" asp-area="Customer" asp-controller="Home"
							   asp-action="Details" asp-route-ProductID="@cart.ProductID" target="_blank">
								<img src="@cart.product.ImageURL" class="h-30 w-30 object-cover md:h-20 md:w-20 sm:w-full rounded-md" alt="Product Image" />
							</a>


							<!-- Product Details -->
							<div class="flex-1 pt-3 md:pt-0 text-center md:text-left ml-4">
								<h5 class="text-lg font-semibold text-gray-800">
									<a class="text-gray-900 hover:underline" asp-area="Customer" asp-controller="Home"
									   asp-action="Details" asp-route-ProductID="@cart.ProductID" target="_blank">
										@cart.product.Title
									</a>
								</h5>
								<div class="w-30 text-sm">@Html.Raw(cart.product.Description)</div>
							</div>

							<!-- Product Actions -->
							<div class="flex justify-center md:justify-end items-center space-x-4 py-2">
								<div class="text-md font-semibold text-gray-700">
									@cart.product.Price.ToString("C")
									<span class="text-gray-400">&nbsp; x &nbsp;</span>@cart.Count
								</div>
								<div class="flex items-center space-x-2">
									<div class="flex items-center space-x-2">
										<a asp-action="CartPlus" asp-route-CartID="@cart.ID" class="btn bg-gray-50 font-bold hover:bg-gray-200 text-gray-600 rounded-md p-2">
											<i class="bi bi-plus-lg"></i>
										</a>
										<a asp-action="CartMinus" asp-route-CartID="@cart.ID" class="btn bg-gray-50 font-bold hover:bg-gray-200 text-gray-600 rounded-md p-2">
											<i class="bi bi-dash-lg"></i>
										</a>
									</div>
								</div>
								<div>
									<button asp-action="CartRemove" asp-route-CartID="@cart.ID" 
									class="btn bg-red-600 text-white rounded-lg py-2 px-4">
										<i class="bi bi-trash-fill"></i> Remove
									</button>
								</div>
							</div>
						</div>
					}

					<hr class="my-6" />
				</div>

				@if (Model.shoppingCartsList != null && Model.shoppingCartsList.Count() >= 1)
				{
					<!-- Cart Total -->
					<div class="bg-white mt-6 border-t pt-4">
						<div class="flex justify-center">
							<div class="w-full sm:w-1/2 md:w-1/3">
								<ul class="list-none mb-4">
									<li class="flex justify-between items-center py-2 text-lg font-semibold text-gray-800">
										<span>Total (INR)</span>
										<span>@Model.orderHeader.OrderTotal.ToString("C")</span>
									</li>
								</ul>
							</div>
						</div>
						<div class="flex justify-end mt-4">
							<div class="w-full sm:w-auto md:w-1/4">
								<button asp-action="Summary" class="btn border p-5 rounded-sm transition-all duration-300 ease-in-out
										text-gray-900 rounded-lg w-full py-2 shadow-sm hover:bg-gray-50">
									Summary
								</button>
							</div>
						</div>
					</div>
				}
				else
				{
					<h1 class="text-center text-red-600 text-xl">
						<i class="bi bi-cart-x mr-2"></i> Cart is Empty
					</h1>
				}
			</div>
		</div>
	</form>
</div>
